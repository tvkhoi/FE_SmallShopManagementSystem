<div class="modal fade show d-block" *ngIf="product" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content shadow-lg border-0 rounded-4">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title">{{ product.name }}</h5>
        <button type="button" class="btn-close btn-close-white" (click)="close()" title="ƒê√≥ng" aria-label="ƒê√≥ng"></button>
      </div>

      <div class="modal-body">
        <div class="row">
          <!-- ·∫¢nh s·∫£n ph·∫©m -->
          <div class="col-md-6 text-center mb-3 mb-md-0">
            <img [src]="selectedImage" alt="{{ product.name }}" class="img-fluid rounded shadow-sm detail-img mb-2">
            <div class="d-flex flex-wrap justify-content-center"
              *ngIf="product?.imageUrls && product.imageUrls.length > 1">
              <img *ngFor="let img of product.imageUrls"
                   [src]="img"
                   (click)="selectImage(img)"
                   [class.selected]="img === selectedImage"
                   class="thumbnail-img me-2 mb-2 rounded border">
            </div>
          </div>

          <!-- N·ªôi dung chi ti·∫øt -->
          <div class="col-md-6">
            <p class="fw-bold text-danger fs-4">{{ product.price | currency:'VND':'symbol' }}</p>
            <p><strong>M√¥ t·∫£:</strong> {{ product.description || 'Kh√¥ng c√≥ m√¥ t·∫£' }}</p>
            <p><strong>C√≤n l·∫°i:</strong> {{ product.stock }}</p>
            <p><strong>Danh m·ª•c:</strong> {{ product.categoryName || 'Kh√°c' }}</p>

            <!-- √î ƒëi·ªÅu ch·ªânh s·ªë l∆∞·ª£ng -->
            <div class="mt-3">
              <label class="fw-bold me-2">S·ªë l∆∞·ª£ng:</label>
              <nz-input-number
                [(ngModel)]="quantity"
                [nzMin]="1"
                [nzMax]="product.stock"
                [nzStep]="1"
                [nzDisabled]="product.stock === 0"
                nzSize="large"
              ></nz-input-number>
            </div>
          </div>
        </div>
      </div>

      <div class="modal-footer d-flex justify-content-between">
        <div>
          <button class="btn btn-success me-2" (click)="addToCart()">üõí Th√™m gi·ªè h√†ng</button>
          <button class="btn btn-outline-danger" (click)="addToWishlist(product)">‚ù§Ô∏è Y√™u th√≠ch</button>
        </div>
        <button class="btn btn-secondary" (click)="close()">ƒê√≥ng</button>
      </div>
    </div>
  </div>
</div>

<!-- backdrop -->
<div class="modal-backdrop fade show" *ngIf="product"></div>
